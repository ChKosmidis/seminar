<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0. –í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–∏—Ä –ù–ö–û - –°–µ–º–∏–Ω–∞—Ä –ù–ö–û</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/style.css">
    
    <style>
        body { 
            padding-top: 70px; overflow-x: hidden;
            background-color: #f4f7f6; /* Light overall background */
            overflow-x: hidden; /* Prevent horizontal scrollbars from animations */
        }

        /* --- Page Header Section (–∫–∞–∫ –≤ 2_internal_communications, –Ω–æ —Å –∑–µ–ª—ë–Ω—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∏ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É) --- */
        .page-header-section {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            background: linear-gradient(135deg, #32ac4e 0%, #1e7e34 100%);
            color: white;
            padding: 4rem 1.5rem;
            margin-bottom: 2rem;
            border-radius: .3rem;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.10);
            overflow: hidden;
        }
        .page-header-section img.header-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 1rem;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.18));
            will-change: transform;
        }
        .page-header-section h1 {
            font-size: 2.7rem;
            font-weight: 700;
            letter-spacing: -1px;
            margin-bottom: 1rem;
        }
        .page-header-section .lead {
            font-size: 1.18rem;
            opacity: 0.93;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (max-width: 600px) {
            .page-header-section { padding: 2.2rem 0.7rem 1.5rem 0.7rem; }
            .page-header-section img.header-icon { width: 60px; height: 60px; }
            .page-header-section h1 { font-size: 1.5rem; }
        }

        /* --- Page Header Redesign --- */
        .page-hero-section {
            background: linear-gradient(135deg, #28a745, #1e7e34); /* Shades of green */
            color: #fff;
            padding: 4rem 1.5rem;
            margin-bottom: 3rem;
            text-align: center;
            border-radius: 0 0 25px 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .page-hero-section img.hero-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }
        .page-hero-section h1 {
            font-size: 2.8rem;
            font-weight: 700;
            letter-spacing: -1px;
        }
        .page-hero-section .lead {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* --- Content Section Redesign (0.1 - 0.4) --- */
        .info-section {
            padding: 3rem 1.5rem;
            margin-bottom: 2.5rem;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.07);
            opacity: 0; /* Initial state for GSAP */
            transform: translateY(30px); /* Initial state for GSAP */
        }
        .info-section .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid; /* Color set by specific section style */
        }
        .info-section .section-icon-new {
            width: 48px;
            height: 48px;
            margin-right: 1rem;
            padding: 8px;
            border-radius: 50%;
            background-color: var(--section-icon-bg, #e9ecef);
            color: var(--section-icon-color, #495057); /* For SVG fill if needed */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .info-section .section-icon-new img {
            width: 28px; height: 28px; opacity:0.8;
        }

        .info-section h2 {
            font-size: 1.9rem;
            font-weight: 600;
            margin-bottom: 0;
            color: #343a40;
        }
        .info-section p, .info-section ul {
            font-size: 1.05rem;
            line-height: 1.7;
            color: #555;
        }
        .info-section ul {
            list-style: none;
            padding-left: 0;
        }
        .info-section ul li {
            padding-left: 1.8em;
            position: relative;
            margin-bottom: 0.75rem;
        }
        .info-section ul li::before {
            content: '‚úì'; /* Checkmark or other icon */
            position: absolute;
            left: 0;
            color: var(--section-accent-color, #198754); /* Color set by specific section style */
            font-weight: bold;
            font-size: 1.2em;
        }
        
        /* Specific section styling */
        #s0-1-new { border-left: 7px solid #198754; --section-accent-color: #198754; --section-icon-bg: #e3fcec; }
        #s0-1-new .section-header { border-bottom-color: #198754; }
        #s0-1-new .section-icon-new { background-color: #19875430; }


        #s0-2-new { border-left: 7px solid #0d6efd; --section-accent-color: #0d6efd; --section-icon-bg: #e7eafe; }
        #s0-2-new .section-header { border-bottom-color: #0d6efd; }
        #s0-2-new .section-icon-new { background-color: #0d6efd30; }

        #s0-3-new { border-left: 7px solid #ffc107; --section-accent-color: #ffc107; --section-icon-bg: #fff3cd; }
        #s0-3-new .section-header { border-bottom-color: #ffc107; }
        #s0-3-new .section-icon-new { background-color: #ffc10730; }


        #s0-4-new { border-left: 7px solid #dc3545; --section-accent-color: #dc3545; --section-icon-bg: #fde2e2; }
        #s0-4-new .section-header { border-bottom-color: #dc3545; }
        #s0-4-new .section-icon-new { background-color: #dc354530; }


        /* AI Interactive Block & Quiz (retained, minor style tweaks for consistency) */
        #nkoChoiceInteractive, #nkoQuizSection {
            opacity: 0; /* For GSAP */
            transform: translateY(30px); /* For GSAP */
            padding: 2.5rem; 
            background-color: #ffffff; 
            border-radius: 12px; 
            margin-top: 2.5rem;
            box-shadow: 0 6px 25px rgba(0,0,0,0.07);
        }
        #nkoChoiceInteractive h4, #nkoQuizSection h4 {
            font-size: 1.75rem;
            font-weight: 600;
            color: #343a40;
            margin-bottom: 2rem !important;
        }
        #nkoConceptResult, #aiFeedbackContainer {
            opacity: 0; 
            transform: translateY(15px);
        }
        #aiFeedbackResult { 
            white-space: pre-wrap; 
            background-color: #f8f9fa; 
            border: 1px solid #e9ecef; 
            padding: 1rem; 
            border-radius: 8px;
        }
        .quiz-question { 
            opacity:0; 
            transform: translateX(-20px); 
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        #quizResultChartContainer { max-width: 400px; margin: 2rem auto 0; }
        #quizScore { font-size: 1.2rem; font-weight: bold; }

        /* Ensure header is above everything */
        header { z-index: 1050; }

        /* --- Navigation Bar for Sections --- */
        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –†–ê–ó–î–ï–õ–ê–ú (–∫–∞–∫ –≤ 2_internal_communications) */
        .section-nav-bar {
            position: sticky;
            top: 0; /* This will stick below the 70px fixed header due to body padding-top */
            z-index: 1000;
            background: rgba(255,255,255,0.97);
            box-shadow: 0 2px 8px rgba(32,201,151,0.07);
            padding: 0.5rem 0;
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            align-items: center;
        }
        .section-nav-btn {
            padding: 0.4rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: background-color 0.3s, transform 0.3s;
        }
        .section-nav-btn:hover {
            transform: translateY(-2px);
        }
        .section-nav-btn.btn-success {
            background-color: #198754;
            color: white;
        }
        .section-nav-btn.btn-success:hover {
            background-color: #157347;
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
            <div class="container">
                <a class="navbar-brand fw-bold d-flex align-items-center" href="../index.html">
                    <img src="../assets/images/logo.svg" alt="–õ–æ–≥–æ –ù–ö–û"> 
                    –°–µ–º–∏–Ω–∞—Ä –ù–ö–û
                </a>
                <button class="navbar-custom-toggler ms-auto" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" id="customMenuToggler" aria-expanded="false">
                    <svg viewBox="0 0 100 80" width="30" height="30" id="actualBurgerIcon" fill="currentColor">
                        <rect class="line line1" x="0" y="10" width="100" height="10" rx="5"></rect>
                        <rect class="line line2" x="0" y="35" width="100" height="10" rx="5"></rect>
                        <rect class="line line3" x="0" y="60" width="100" height="10" rx="5"></rect>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <div class="fullscreen-menu" id="fullscreenMenu">
        <button class="close-menu-btn" id="closeFullscreenMenu" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é">√ó</button>
        <ul class="navbar-nav-fullscreen">
            <li class="nav-item fs-menu-item">
                <a class="nav-link" href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            </li>
            <li class="nav-item fs-menu-item custom-dropdown">
                <a class="nav-link dropdown-toggle-custom active" aria-current="page" href="#" id="sectionsDropdownCustomFs" role="button" aria-expanded="false">
                    –†–∞–∑–¥–µ–ª—ã
                </a>
                <ul class="dropdown-menu-custom">
                    <li><a class="dropdown-item active" href="0_introduction.html">0. –í–≤–µ–¥–µ–Ω–∏–µ</a></li>
                    <li><a class="dropdown-item" href="1_community_building.html">1. –°–æ–æ–±—â–µ—Å—Ç–≤–æ</a></li>
                    <li><a class="dropdown-item" href="2_internal_communications.html">2. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</a></li>
                    <li><a class="dropdown-item" href="3_infrastructure.html">3. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</a></li>
                    <li><a class="dropdown-item" href="4_legal_and_security.html">4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
                    <li><a class="dropdown-item" href="5_effectiveness_and_development.html">5. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</a></li>
                    <li><a class="dropdown-item" href="6_crisis_management.html">6. –ê–Ω—Ç–∏–∫—Ä–∏–∑–∏—Å</a></li>
                    <li><a class="dropdown-item" href="7_fundraising.html">7. –§–∞–Ω–¥—Ä–∞–π–∑–∏–Ω–≥</a></li>
                    <li><a class="dropdown-item" href="8_cases_and_practice.html">8. –ü—Ä–∞–∫—Ç–∏–∫–∞ –∏ –∫–µ–π—Å—ã</a></li>
                </ul>
            </li>
            <li class="nav-item fs-menu-item">
                <a class="nav-link" href="useful_resources.html">–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a>
            </li>
        </ul>
    </div>

    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –†–ê–ó–î–ï–õ–ê–ú -->
    <nav class="section-nav-bar"> <!-- Removed inline styles, relying on CSS block above -->
      <a href="0_introduction.html" class="btn btn-success section-nav-btn">–í–≤–µ–¥–µ–Ω–∏–µ</a>
      <a href="1_community_building.html" class="btn btn-outline-success section-nav-btn">1. –°–æ–æ–±—â–µ—Å—Ç–≤–æ</a>
      <a href="2_internal_communications.html" class="btn btn-outline-success section-nav-btn">2. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</a>
      <a href="3_infrastructure.html" class="btn btn-outline-success section-nav-btn">3. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</a>
      <a href="4_legal_and_security.html" class="btn btn-outline-success section-nav-btn">4. –ü—Ä–∞–≤–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a>
      <a href="5_effectiveness_and_development.html" class="btn btn-outline-success section-nav-btn">5. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</a>
      <a href="6_crisis_management.html" class="btn btn-outline-success section-nav-btn">6. –ö—Ä–∏–∑–∏—Å—ã</a>
      <a href="7_fundraising.html" class="btn btn-outline-success section-nav-btn">7. –§–∞–Ω–¥—Ä–∞–π–∑–∏–Ω–≥</a>
      <a href="8_cases_and_practice.html" class="btn btn-outline-success section-nav-btn">8. –ö–µ–π—Å—ã</a>
      <a href="useful_resources.html" class="btn btn-outline-secondary section-nav-btn">–†–µ—Å—É—Ä—Å—ã</a>
    </nav>
    <!-- /–ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –†–ê–ó–î–ï–õ–ê–ú -->

    <!-- Intentionally removed the duplicate fullscreen-menu div that was here -->

    <main> <!-- Removed class="container py-4" from main -->
        <!-- –ë–ª–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ (–∫–∞–∫ –≤ 2_internal_communications) -->
        <div class="page-header-section">
            <img src="../assets/icons/introngo.svg" alt="–í–≤–µ–¥–µ–Ω–∏–µ –ò–∫–æ–Ω–∫–∞" class="header-icon" id="introHeaderIcon">
            <h1 class="display-5 fw-bold">–†–∞–∑–¥–µ–ª 0: –í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–∏—Ä –ù–ö–û</h1>
            <p class="lead">–§–æ–∫—É—Å –Ω–∞ –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ª–∞–Ω–¥—à–∞—Ñ—Ç, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞, –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥ –∏ –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏.</p>
        </div>

        <div class="container py-4"> <!-- Added container with padding for the content sections -->
            <section class="info-section" id="s0-1-new">
                <div class="section-header">
                    <div class="section-icon-new">
                        <img src="../assets/icons/community.svg" alt="–õ–∞–Ω–¥—à–∞—Ñ—Ç –ù–ö–û">
                    </div>
                    <h2>0.1. –õ–∞–Ω–¥—à–∞—Ñ—Ç –ù–ö–û: –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä</h2>
                </div>
                <p>–ù–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–ù–ö–û) –∏–≥—Ä–∞—é—Ç –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞. –û–Ω–∏ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –æ—Ç –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ —ç–∫–æ–ª–æ–≥–∏–∏, –∫—É–ª—å—Ç—É—Ä—ã –∏ –∑–∞—â–∏—Ç—ã –ø—Ä–∞–≤ —á–µ–ª–æ–≤–µ–∫–∞.</p>
                <ul>
                    <li><strong>–ú–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ —Ñ–æ—Ä–º:</strong> –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Ñ–æ–Ω–¥—ã, –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ (—Å–æ—é–∑—ã) –∏ –¥—Ä.</li>
                    <li><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:</strong> –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —É—è–∑–≤–∏–º—ã—Ö –≥—Ä—É–ø–ø, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏–µ, –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ—Ö—Ä–∞–Ω–∞ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã, —Ä–∞–∑–≤–∏—Ç–∏–µ –∫—É–ª—å—Ç—É—Ä—ã –∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞, –∑–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –∏ —Å–≤–æ–±–æ–¥ —á–µ–ª–æ–≤–µ–∫–∞ –∏ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞.</li>
                </ul>
                <p>–û–±—â–∞—è –º–∏—Å—Å–∏—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞ ‚Äî —Ä–µ—à–µ–Ω–∏–µ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑–Ω–∞—á–∏–º—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ –Ω–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –≥—Ä–∞–∂–¥–∞–Ω, –¥–µ–π—Å—Ç–≤—É—è –Ω–µ —Ä–∞–¥–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏, –∞ –≤–æ –∏–º—è –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–ª–∞–≥.</p>
            </section>

            <section class="info-section" id="s0-2-new">
                <div class="section-header">
                    <div class="section-icon-new">
                         <img src="../assets/icons/rights.svg" alt="–ü—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω—ã–µ –ù–ö–û">
                    </div>
                    <h2>0.2. –ü—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω—ã–µ –ù–ö–û: –ú–∏—Å—Å–∏—è –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞</h2>
                </div>
                <p>–ü—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –∑–∞—â–∏—Ç—É –ø—Ä–∞–≤ –∏ —Å–≤–æ–±–æ–¥ —á–µ–ª–æ–≤–µ–∫–∞, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º–∏ –Ω–æ—Ä–º–∞–º–∏ –∏ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º. –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω—ã—Ö –ù–ö–û –≤–∫–ª—é—á–∞—é—Ç:</p>
                <ul>
                    <li><strong>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö –ø—Ä–∞–≤ —á–µ–ª–æ–≤–µ–∫–∞.</li>
                    <li><strong>–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏–µ:</strong> –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è, –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ –ø—Ä–∞–≤–∞—Ö –∏ —Å–ø–æ—Å–æ–±–∞—Ö –∏—Ö –∑–∞—â–∏—Ç—ã.</li>
                    <li><strong>–ê–¥–≤–æ–∫–∞—Ü–∏—è:</strong> –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ª–∏—Ü –∏–ª–∏ –≥—Ä—É–ø–ø, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.</li>
                    <li><strong>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å:</strong> –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≤ —Å—É–¥–µ.</li>
                    <li><strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∂–µ—Ä—Ç–≤ –Ω–∞—Ä—É—à–µ–Ω–∏–π:</strong> –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏ –∏–Ω–∞—è –ø–æ–º–æ—â—å –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏–º.</li>
                </ul>
                <p>–ü—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω—ã–µ –ù–ö–û —á–∞—Å—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å –æ—Å–æ–±—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏, —Ä–∏—Å–∫–∞–º–∏ –∏ —ç—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∏–ª–µ–º–º–∞–º–∏, —Ç—Ä–µ–±—É—é—â–∏–º–∏ –≤—ã—Å–æ–∫–æ–π –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–≤–µ—Ä–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º.</p>
            </section>

            <section class="info-section" id="s0-3-new">
                <div class="section-header">
                    <div class="section-icon-new">
                        <img src="../assets/icons/communication.svg" alt="–ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥ –ù–ö–û">
                    </div>
                    <h2>0.3. –ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥-–ù–ö–û (–†–µ—Å—É—Ä—Å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã, –∫–æ–∞–ª–∏—Ü–∏–∏)</h2>
                </div>
                <p>–°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å–∏–ª–∏–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥-–ù–ö–û, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ä–µ—Å—É—Ä—Å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã –∏ –∫–æ–∞–ª–∏—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:</p>
                <ul>
                    <li>–û–±–º–µ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –æ–ø—ã—Ç–æ–º –∏ –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏.</li>
                    <li>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π –∏ –∞–∫—Ü–∏–π.</li>
                    <li>–ê–¥–≤–æ–∫–∞—Ü–∏—è –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ –ø–æ –æ–±—â–∏–º –ø—Ä–æ–±–ª–µ–º–∞–º.</li>
                    <li>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã –∏ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –ù–ö–û –∏ –∞–∫—Ç–∏–≤–∏—Å—Ç–æ–≤.</li>
                    <li>–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–æ –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.</li>
                </ul>
                <p>–ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥-–∏–Ω–∏—Ü–∏–∞—Ç–∏–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ —Å–æ–ª–∏–¥–∞—Ä–Ω–æ—Å—Ç—å –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –ø–æ–º–æ–≥–∞—é—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å –∑–Ω–∞—á–∏–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∞–∂–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.</p>
            </section>
            
            <section class="info-section" id="s0-4-new">
                <div class="section-header">
                    <div class="section-icon-new">
                        <img src="../assets/icons/practical.svg" alt="–í—ã–±–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ù–ö–û">
                    </div>
                    <h2>0.4. –í—ã–±–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º—ã –¥–ª—è –≤–∞—à–µ–π –±—É–¥—É—â–µ–π –ù–ö–û</h2>
                </div>
                <p>–ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ù–ö–û, –≤–∞–∂–Ω–æ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω–æ–µ –ø–æ–ª–µ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ—é –Ω–∏—à—É:</p>
                <ul>
                    <li><strong>–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –ø–æ–ª—è:</strong> –ö–∞–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞? –ö—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ –Ω–µ–π? –ö–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –Ω–µ –æ—Ö–≤–∞—á–µ–Ω—ã?</li>
                    <li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏:</strong> –ö–æ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–º–æ–≥–∞—Ç—å? –ö–∞–∫–æ–≤—ã –∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏?</li>
                    <li><strong>–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏—Å—Å–∏–∏ –∏ –≤–∏–¥–µ–Ω–∏—è:</strong> –ö–∞–∫–æ–≤–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Ü–µ–ª—å –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–≤–∏–¥–µ–Ω–∏–µ)? –ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –µ–µ –¥–æ—Å—Ç–∏–≥–∞—Ç—å (–º–∏—Å—Å–∏—è)?</li>
                </ul>
                <p>–û—Ç–≤–µ—Ç–∏–≤ –Ω–∞ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã, –≤—ã —Å–º–æ–∂–µ—Ç–µ –±–æ–ª–µ–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –ø–æ–¥–æ–π—Ç–∏ –∫ –≤—ã–±–æ—Ä—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤–æ–π —Ñ–æ—Ä–º—ã –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–∞—à–µ–π –±—É–¥—É—â–µ–π –ù–ö–û.</p>
            </section>
            
            <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤: –í—ã–±–æ—Ä –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ç–∏–ø–∞ –ù–ö–û (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞) -->
            <section class="content-section" id="nkoChoiceInteractive">
                <h4 class="text-center mb-4">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤: –í–∞—à–∞ –±—É–¥—É—â–∞—è –ù–ö–û</h4>
                <p class="text-center text-muted mb-4">–ü–æ–¥—É–º–∞–π—Ç–µ –∏ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –Ω–∏–∂–µ. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç –æ—Ç –ò–ò.</p>
                <div class="mb-3">
                    <label for="humanRightsProblem" class="form-label">–ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É –≤ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∞–≤ —á–µ–ª–æ–≤–µ–∫–∞ –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã —Ä–µ—à–∞—Ç—å?</label>
                    <textarea class="form-control" id="humanRightsProblem" rows="3" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –∑–∞–∫–ª—é—á–µ–Ω–Ω—ã—Ö, –±–æ—Ä—å–±–∞ —Å –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏–µ–π –ø–æ –ø—Ä–∏–∑–Ω–∞–∫—É X, –ø–æ–º–æ—â—å –±–µ–∂–µ–Ω—Ü–∞–º..."></textarea>
                </div>
                <div class="mb-3">
                    <label for="nkoTypeChoice" class="form-label">–ö–∞–∫–æ–π —Ç–∏–ø –ù–ö–û (–ø—Ä—è–º–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥/—Ä–µ—Å—É—Ä—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä) –∫–∞–∂–µ—Ç—Å—è –≤–∞–º –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –¥–ª—è —ç—Ç–æ–≥–æ?</label>
                    <select class="form-select" id="nkoTypeChoice">
                        <option selected disabled value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø...</option>
                        <option value="direct_action">–ü—Ä—è–º–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)</option>
                        <option value="networking">–ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥/–†–µ—Å—É—Ä—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö –ù–ö–û)</option>
                        <option value="hybrid">–ì–∏–±—Ä–∏–¥–Ω—ã–π (—Å–æ—á–µ—Ç–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="nkoJustification" class="form-label">–û–±–æ—Å–Ω—É–π—Ç–µ —Å–≤–æ–π –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –ù–ö–û:</label>
                    <textarea class="form-control" id="nkoJustification" rows="4" placeholder="–ü–æ—á–µ–º—É –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —Ç–∏–ø –ù–ö–û –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã? –ö–∞–∫–∏–µ —É –≤–∞—Å –µ—Å—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ—Å—É—Ä—Å—ã –∏–ª–∏ –∏–¥–µ–∏?"></textarea>
                </div>
                <div class="text-center">
                    <button type="button" class="btn btn-success btn-lg" id="showNkoConceptBtn">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –∏ —Å–æ–≤–µ—Ç –ò–ò</button>
                </div>
                <div id="nkoConceptResult" class="mt-4 p-3 border rounded bg-white">
                    <h5>–í–∞—à–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:</h5>
                    <p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> <span id="resultProblem"></span></p>
                    <p><strong>–¢–∏–ø –ù–ö–û:</strong> <span id="resultNkoType"></span></p>
                    <p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong> <span id="resultJustification"></span></p>
                    <button class="btn btn-sm btn-outline-secondary mt-2" id="copyConceptBtn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é</button>
                </div>
                <div id="aiFeedbackContainer" class="mt-4">
                    <h5 class="text-primary">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–∞:</h5>
                    <div id="aiFeedbackResult" class="p-3 border rounded text-muted">
                        <em>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç...</em>
                    </div>
                </div>
            </section>

            <!-- –ö–≤–∏–∑ –ø–æ –æ—Å–Ω–æ–≤–∞–º –ù–ö–û (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞) -->
            <section class="content-section" id="nkoQuizSection">
                <h4 class="text-center mb-4">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è: –û—Å–Ω–æ–≤—ã –ù–ö–û</h4>
                <div id="quizContainer">
                    <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-primary btn-lg" id="submitQuizBtn" style="display: none;">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                </div>
                <div id="quizResultText" class="mt-3 text-center" style="display:none;">
                    <p id="quizScore"></p>
                </div>
                <div id="quizResultChartContainer" style="display:none;">
                    <canvas id="quizResultChart"></canvas>
                </div>
            </section>
        </div> <!-- Closing the new .container.py-4 div -->
    </main>

    <footer class="py-4 bg-dark text-white-50 mt-5">
        <div class="container text-center">
            <small>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã —Å–µ–º–∏–Ω–∞—Ä–∞ –®–∫–æ–ª—ã –ø—Ä–∞–≤ —á–µ–ª–æ–≤–µ–∫–∞ –∏–º. –ï–ª–µ–Ω—ã –ë–æ–Ω–Ω—ç—Ä ¬© 2025</small>
            <br>
            <small><em>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ –Ω–æ—Å–∏—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ–º–∏–Ω–∞—Ä–∞.</em></small>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    
    <script>
const GOOGLE_AI_API_KEY = "AIzaSyDl6bLHj4tFonVVBnKDhgIpdrTQuZXmhqo";
// –ó–ê–ú–ï–ù–ò–¢–ï –≠–¢–û–¢ URL –ù–ê –ê–ö–¢–£–ê–õ–¨–ù–´–ô –î–õ–Ø GEMMA, –ï–°–õ–ò –û–ù –î–†–£–ì–û–ô!
const GOOGLE_AI_API_URL_BASE = "https://generativelanguage.googleapis.com/v1beta/models/";
const GOOGLE_AI_MODEL = "gemma-3n-e4b-it"; // –í–∞—à–∞ –º–æ–¥–µ–ª—å
const GOOGLE_AI_API_URL = `${GOOGLE_AI_API_URL_BASE}${GOOGLE_AI_MODEL}:generateContent?key=${GOOGLE_AI_API_KEY}`;

        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            // --- –°–∫—Ä—ã—Ç–∏–µ/–ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ (–∫–∞–∫ –≤ 2_internal_communications) ---
            let lastScrollTop = window.scrollY;
            const navBar = document.querySelector('.section-nav-bar');
            const mainFixedNavbar = document.querySelector('header > .navbar.fixed-top');
            let mainNavbarHeight = 70; // default height
            if (mainFixedNavbar) {
                mainNavbarHeight = mainFixedNavbar.offsetHeight;
            }
             // Correct sticky top position for section-nav-bar
            if (navBar) {
                // navBar.style.top = mainNavbarHeight + 'px'; // This would make it stick *below* the fixed header.
                                                            // However, the body padding-top already pushes content down.
                                                            // So top: 0 for the sticky bar (relative to the padded body) is correct.
            }

            let ticking = false;
            window.addEventListener('scroll', function() {
                if (!navBar) return;
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        const st = window.scrollY;
                        // The threshold for hiding could be based on the top of the page-header-section
                        // For now, using a fixed value like 80 (or mainNavbarHeight + some_offset)
                        const hideThreshold = mainNavbarHeight > 0 ? mainNavbarHeight + 10 : 80; 
                        if (st > lastScrollTop + 10 && st > hideThreshold) { 
                            navBar.classList.add('section-nav-hidden');
                        } else if (st < lastScrollTop - 10 || st <= 0) {
                            navBar.classList.remove('section-nav-hidden');
                        }
                        lastScrollTop = st <= 0 ? 0 : st;
                        ticking = false;
                    });
                    ticking = true;
                }
            });
            // Style for section-nav-hidden if not present in style.css
            if (!document.querySelector('style#sectionNavHiddenStyle')) {
                const style = document.createElement('style');
                style.id = 'sectionNavHiddenStyle';
                style.innerHTML = `.section-nav-hidden { transform: translateY(-100%); opacity: 0.7; pointer-events: none; }`;
                document.head.appendChild(style);
                // Also ensure .section-nav-bar has transition for transform and opacity
                if(navBar) {
                    navBar.style.transition = navBar.style.transition ? navBar.style.transition + ', transform 0.3s ease, opacity 0.3s ease' : 'transform 0.3s ease, opacity 0.3s ease';
                }
            }


            // --- –ú–µ–Ω—é (–∫–∞–∫ –≤ 2_internal_communications) ---
            const customMenuToggler = document.getElementById('customMenuToggler');
            const fullscreenMenu = document.getElementById('fullscreenMenu');
            const closeFullscreenMenuBtn = document.getElementById('closeFullscreenMenu');
            if (customMenuToggler && fullscreenMenu) {
                const fsNav = fullscreenMenu.querySelector('.navbar-nav-fullscreen');
                const fsMenuItems = fsNav ? gsap.utils.toArray(fsNav.querySelectorAll('.fs-menu-item > a, .fs-menu-item > .dropdown-toggle-custom')) : [];
                const fsSubMenuItemsContainer = fsNav ? fsNav.querySelector('.fs-menu-item.custom-dropdown .dropdown-menu-custom') : null;
                const actualBurgerIcon = customMenuToggler.querySelector('svg');
                const burgerLine1 = actualBurgerIcon?.querySelector('.line1');
                const burgerLine2 = actualBurgerIcon?.querySelector('.line2');
                const burgerLine3 = actualBurgerIcon?.querySelector('.line3');
                let burgerTimeline = gsap.timeline({ paused: true, reversed: true });
                if (burgerLine1 && burgerLine2 && burgerLine3) {
                    const line1YInitial = parseFloat(burgerLine1.getAttribute('y'));
                    const line2YInitial = parseFloat(burgerLine2.getAttribute('y'));
                    const line3YInitial = parseFloat(burgerLine3.getAttribute('y'));
                    if (!isNaN(line1YInitial) && !isNaN(line2YInitial) && !isNaN(line3YInitial)) {
                        burgerTimeline.to(burgerLine1, { duration: 0.25, attr:{y: line2YInitial}, ease: "power2.inOut" }, "cross").to(burgerLine3, { duration: 0.25, attr:{y: line2YInitial}, ease: "power2.inOut" }, "cross").to(burgerLine2, { duration: 0.2, scaleX: 0, transformOrigin: "50% 50%", ease: "power2.in" }, "cross") .to(burgerLine1, { duration: 0.25, rotation: 45,  transformOrigin: "50% 50%", ease: "power2.out" }, "crossEnd").to(burgerLine3, { duration: 0.25, rotation: -45, transformOrigin: "50% 50%", ease: "power2.out" }, "crossEnd");
                    } else { burgerTimeline.to(actualBurgerIcon, {rotation: 180, duration: 0.3, ease:"power2.inOut"}); }
                } else if (actualBurgerIcon) { burgerTimeline.to(actualBurgerIcon, {rotation: 180, duration: 0.3, ease:"power2.inOut"});}
                let fsMenuIsOpen = false;
                gsap.set(fullscreenMenu, { display: 'none', autoAlpha: 0 }); 
                if (fsMenuItems.length > 0) gsap.set(fsMenuItems, { autoAlpha: 0, y: 20 });
                if (fsSubMenuItemsContainer) gsap.set(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), {autoAlpha:0, y:10});
                const openFullscreenMenu = () => { if (fsMenuIsOpen) return; fsMenuIsOpen = true; fullscreenMenu.style.display = 'flex'; burgerTimeline.play(); customMenuToggler.classList.add('open'); customMenuToggler.setAttribute('aria-expanded', 'true'); const tlOpen = gsap.timeline().to(fullscreenMenu, { autoAlpha: 1, duration: 0.35, ease: 'power1.out' }); if (fsMenuItems.length > 0) tlOpen.to(fsMenuItems, { autoAlpha: 1, y: 0, duration: 0.3, stagger: 0.06, ease: 'power1.out' }, "-=0.2"); const sectionsDropdownCustomFs = document.getElementById('sectionsDropdownCustomFs'); if (sectionsDropdownCustomFs?.classList.contains('active') && fsSubMenuItemsContainer && (sectionsDropdownCustomFs.getAttribute('aria-expanded') === 'true' || fsSubMenuItemsContainer.style.height === 'auto')) { tlOpen.to(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), { autoAlpha:1, y:0, duration: 0.2, stagger: 0.04, ease: 'power1.out'}, "-=0.1");}};
                const closeFullscreenMenu = () => {if (!fsMenuIsOpen) return; fsMenuIsOpen = false; burgerTimeline.reverse(); customMenuToggler.classList.remove('open'); customMenuToggler.setAttribute('aria-expanded', 'false'); const tlClose = gsap.timeline({onComplete: () => {fullscreenMenu.style.display = 'none'; if (fsSubMenuItemsContainer && (fsSubMenuItemsContainer.style.height !== '0px' && fsSubMenuItemsContainer.style.height !== '' && fsSubMenuItemsContainer.style.height !== null)) {gsap.set(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), {autoAlpha:0, y:10}); gsap.set(fsSubMenuItemsContainer, { height: 0, autoAlpha: 0, marginTop: 0, marginBottom: 0}); const sectionsDropdownCustomFs = document.getElementById('sectionsDropdownCustomFs'); if(sectionsDropdownCustomFs) sectionsDropdownCustomFs.setAttribute('aria-expanded', 'false');}}}); if (fsSubMenuItemsContainer && (fsSubMenuItemsContainer.style.height !== '0px' && fsSubMenuItemsContainer.style.height !== '' && fsSubMenuItemsContainer.style.height !== null)) { tlClose.to(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), {autoAlpha:0, y:10, duration:0.15, stagger: {each:0.03, from:"end"}, ease:'power1.in'});} if (fsMenuItems.length > 0) tlClose.to(fsMenuItems, { autoAlpha: 0, y: 15, duration: 0.2, stagger: { each: 0.04, from: "end" }, ease: 'power1.in' }, fsSubMenuItemsContainer ? "-=0.1" : 0); tlClose.to(fullscreenMenu, { autoAlpha: 0, duration: 0.25, ease: 'power1.in'}, fsMenuItems.length > 0 ? "-=0.1" : 0); };
                customMenuToggler.addEventListener('click', () => { fsMenuIsOpen ? closeFullscreenMenu() : openFullscreenMenu(); });
                if (closeFullscreenMenuBtn) closeFullscreenMenuBtn.addEventListener('click', closeFullscreenMenu);
                document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && fsMenuIsOpen) closeFullscreenMenu(); });
                const sectionsDropdownCustomFs = document.getElementById('sectionsDropdownCustomFs');
                if (sectionsDropdownCustomFs && fsSubMenuItemsContainer) {gsap.set(fsSubMenuItemsContainer, { height: 0, autoAlpha: 0, marginTop:0, marginBottom:0 }); gsap.set(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), {autoAlpha:0, y:10}); let subMenuFsIsOpen = false; sectionsDropdownCustomFs.addEventListener('click', (e) => {e.preventDefault(); subMenuFsIsOpen = !subMenuFsIsOpen; sectionsDropdownCustomFs.setAttribute('aria-expanded', subMenuFsIsOpen.toString()); if (subMenuFsIsOpen) {gsap.timeline().to(fsSubMenuItemsContainer, { height: 'auto', autoAlpha: 1, marginTop: '0.5rem', marginBottom: '0.5rem', duration: 0.3, ease: 'power1.out' }).to(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), { autoAlpha:1, y:0, duration:0.25, stagger:0.05, ease:'power1.out'}, "-=0.2");} else {gsap.timeline().to(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item'), { autoAlpha:0, y:10, duration:0.2, stagger:{each:0.04, from:"end"}, ease:'power1.in'}).to(fsSubMenuItemsContainer, { height: 0, autoAlpha: 0, marginTop: 0, marginBottom: 0, duration: 0.3, ease: 'power1.in' }, "-=0.1");}}); const fsSubMenuLinks = fsSubMenuItemsContainer ? gsap.utils.toArray(fsSubMenuItemsContainer.querySelectorAll('a.dropdown-item')) : []; fsSubMenuLinks.forEach(link => {link.addEventListener('mouseenter', () => gsap.to(link, { color: '#0d6efd', x: 3, duration: 0.2 })); link.addEventListener('mouseleave', () => gsap.to(link, { color: (link.classList.contains('active') ? '#0d6efd' : '#495057'), x: 0, duration: 0.2 }));});}
                const activeFsDropdownItem = fullscreenMenu.querySelector('.dropdown-menu-custom a.dropdown-item.active');
                if (activeFsDropdownItem) { activeFsDropdownItem.style.color = '#0d6efd'; activeFsDropdownItem.style.fontWeight = '500';}
            }

            // --- –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ ---
            // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (page-header-section, –Ω–µ page-hero-section)
            gsap.from(".page-header-section", { // Changed from page-hero-section
                duration: 1, 
                opacity: 0, 
                y: -50, 
                ease: "power3.out",
                delay: 0.2
            });
            gsap.from(".page-header-section .header-icon", { // Changed from page-hero-section .hero-icon
                duration: 0.8,
                scale: 0.5,
                opacity: 0,
                delay: 0.5,
                ease: "back.out(1.7)"
            });
            gsap.from(".page-header-section h1", {
                duration: 0.8,
                y: 30,
                opacity: 0,
                delay: 0.7,
                ease: "power3.out"
            });
            gsap.from(".page-header-section .lead", {
                duration: 0.8,
                y: 20,
                opacity: 0,
                delay: 0.9,
                ease: "power3.out"
            });

            // --- –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ (SVG) --- // This might be redundant now due to above block
            // gsap.from(".page-header-section h1", {duration: 0.8, y: -50, opacity: 0, ease: "power2.out", delay: 0.2});
            // gsap.from(".page-header-section p.lead", {duration: 0.8, y: -30, opacity: 0, ease: "power2.out", delay: 0.4});
            // gsap.from("#introHeaderIcon", {duration: 1, scale: 0.5, opacity: 0, rotate: 30, ease: "back.out(1.7)", delay: 0.1});

            // –ê–Ω–∏–º–∞—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π (0.1 - 0.4)
            const infoSections = gsap.utils.toArray('.info-section');
            infoSections.forEach((section, index) => {
                gsap.to(section, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: section,
                        start: "top 85%", 
                        once: true,
                    }
                });
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–æ–≤ "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Å –ò–ò" –∏ "–ö–≤–∏–∑" (–±—ã–≤—à–∏–µ content-section, now also check current class)
             const interactiveBlocks = gsap.utils.toArray('#nkoChoiceInteractive, #nkoQuizSection'); // These are .content-section in HTML but have specific IDs
             interactiveBlocks.forEach((block, index) => {
                gsap.to(block, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: block,
                        start: "top 85%",
                        once: true,
                    }
                });
            });


            // --- –õ–æ–≥–∏–∫–∞ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–∞ —Å –ò–ò (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è Gemini/Gemma) ---
            const showNkoConceptBtn = document.getElementById('showNkoConceptBtn');
            const nkoConceptResultDiv = document.getElementById('nkoConceptResult');
            const copyConceptBtn = document.getElementById('copyConceptBtn');
            const aiFeedbackContainer = document.getElementById('aiFeedbackContainer');
            const aiFeedbackResultEl = document.getElementById('aiFeedbackResult');

            if (nkoConceptResultDiv && aiFeedbackContainer) {
                 gsap.set([nkoConceptResultDiv, aiFeedbackContainer], {autoAlpha: 0, display: 'none'}); 
            }

            if (showNkoConceptBtn) {
                showNkoConceptBtn.addEventListener('click', async () => {
                    const problemInput = document.getElementById('humanRightsProblem');
                    const nkoTypeSelect = document.getElementById('nkoTypeChoice');
                    const justificationInput = document.getElementById('nkoJustification');
                    if (!problemInput || !nkoTypeSelect || !justificationInput) return;

                    const problem = problemInput.value;
                    const nkoType = nkoTypeSelect.options[nkoTypeSelect.selectedIndex].text;
                    const nkoTypeValue = nkoTypeSelect.value;
                    const justification = justificationInput.value;

                    document.getElementById('resultProblem').textContent = problem || '–ù–µ —É–∫–∞–∑–∞–Ω–∞';
                    document.getElementById('resultNkoType').textContent = nkoTypeValue === '' ? '–ù–µ –≤—ã–±—Ä–∞–Ω' : nkoType;
                    document.getElementById('resultJustification').textContent = justification || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
                    
                    if (nkoConceptResultDiv && aiFeedbackContainer) {
                        gsap.timeline()
                            .set(nkoConceptResultDiv, {display: 'block'}) 
                            .to(nkoConceptResultDiv, {autoAlpha:1, y:0, duration:0.5, ease: 'power2.out'})
                            .set(aiFeedbackContainer, {display: 'block'}) 
                            .to(aiFeedbackContainer, {autoAlpha:1, y:0, duration:0.4, ease: 'power2.out'}, "-=0.2");
                    }
                    if (aiFeedbackResultEl) {
                        aiFeedbackResultEl.innerHTML = '<em>üß† –î—É–º–∞—é –Ω–∞–¥ –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ...</em>';
                        gsap.fromTo(aiFeedbackResultEl, {opacity:0.5, y:5}, {opacity:1, y:0, duration:0.3});
                    } else { return; }

                    try {
                        const userPromptContent = `–¢—ã ‚Äî –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –ù–ö–û. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –¥–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π –∏ –∫—Ä–∞—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ù–ö–û. –ü–æ–¥—á–µ—Ä–∫–Ω–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.\n\n–ü—Ä–æ–±–ª–µ–º–∞: ${problem || "–Ω–µ —É–∫–∞–∑–∞–Ω–∞"}\n–¢–∏–ø –ù–ö–û: ${nkoTypeValue === '' ? "–Ω–µ –≤—ã–±—Ä–∞–Ω" : nkoType}\n–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: ${justification || "–Ω–µ —É–∫–∞–∑–∞–Ω–æ"}\n\n–¢–≤–æ–∏ –º—ã—Å–ª–∏:`;
                        const response = await fetch(GOOGLE_AI_API_URL, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                contents: [
                                    { role: "user", parts: [{ text: userPromptContent }] }
                                ],
                                generationConfig: {
                                    temperature: 0.7,
                                    maxOutputTokens: 800
                                }
                            })
                        });
                        if (!response.ok) { const errorText = await response.text(); throw new Error(`–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${response.status} ${response.statusText}. ${errorText}`);}
                        const data = await response.json();
                        let aiMessage = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç.";
                        let htmlMessage = aiMessage.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\*(.*?)\*/g, '<em>$1</em>').replace(/^\s*\*\s+(.*)/gm, '<li>$1</li>');
                        if (htmlMessage.includes('<li>')) { htmlMessage = htmlMessage.replace(/(<li>.*?<\/li>\s*)+/g, (match) => `<ul>${match}</ul>`).replace(/<\/ul>\s*<ul>/g, '');}
                        htmlMessage = htmlMessage.replace(/\n/g, '<br>');
                        gsap.to(aiFeedbackResultEl, {opacity:0, y:-5, duration: 0.2, onComplete: () => {
                            aiFeedbackResultEl.innerHTML = htmlMessage; 
                            gsap.to(aiFeedbackResultEl, {opacity:1, y:0, duration:0.4, ease: 'power2.out'});
                        }});
                    } catch (error) {
                        gsap.to(aiFeedbackResultEl, {opacity:0, y:-5, duration: 0.2, onComplete: () => {
                            aiFeedbackResultEl.innerHTML = `üò• –û—à–∏–±–∫–∞: ${error.message}`;
                            gsap.to(aiFeedbackResultEl, {opacity:1, y:0, duration:0.4, ease: 'power2.out'});
                        }});
                    }
                });
            }
            if(copyConceptBtn) {
                copyConceptBtn.addEventListener('click', () => { 
                    const conceptText = `–ü—Ä–æ–±–ª–µ–º–∞: ${document.getElementById('resultProblem').textContent}\n–¢–∏–ø –ù–ö–û: ${document.getElementById('resultNkoType').textContent}\n–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: ${document.getElementById('resultJustification').textContent}`;
                    navigator.clipboard.writeText(conceptText).then(() => {
                        gsap.to(copyConceptBtn, {scale: 1.1, duration: 0.1, yoyo: true, repeat: 1, onComplete: () => {
                            copyConceptBtn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                            gsap.delayedCall(2, () => { copyConceptBtn.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é'; });
                        }});
                    }).catch(err => { alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å.'); });
                });
            }

            // --- –õ–æ–≥–∏–∫–∞ –ö–≤–∏–∑–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫—Ä–æ–º–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤) ---
            const quizContainer = document.getElementById('quizContainer');
            const submitQuizBtn = document.getElementById('submitQuizBtn');
            const quizResultTextDiv = document.getElementById('quizResultText');
            const quizScoreEl = document.getElementById('quizScore');
            const quizResultChartContainer = document.getElementById('quizResultChartContainer');
            let quizResultChartInstance = null;
            const quizQuestions = [
                { question: "–ö–∞–∫–æ–≤–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ù–ö–û?", options: ["–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏", "–†–µ—à–µ–Ω–∏–µ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑–Ω–∞—á–∏–º—ã—Ö –ø—Ä–æ–±–ª–µ–º", "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –±–æ—Ä—å–±–∞", "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ —É—á—Ä–µ–¥–∏—Ç–µ–ª–µ–π"], correctAnswer: "–†–µ—à–µ–Ω–∏–µ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑–Ω–∞—á–∏–º—ã—Ö –ø—Ä–æ–±–ª–µ–º" },
                { question: "–ö–∞–∫–∞—è –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º –ù–ï —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–∏—á–Ω–æ–π –¥–ª—è –ù–ö–û –≤ –†–æ—Å—Å–∏–∏?", options: ["–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", "–§–æ–Ω–¥", "–ê–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ", "–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è"], correctAnswer: "–ê–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ" },
                { question: "–ß—Ç–æ –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω—ã—Ö –ù–ö–û?", options: ["–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –≤—ã—Å—Ç–∞–≤–æ–∫", "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–∞–≤", "–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∫–ª—É–±–æ–≤", "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –∏–≥—Ä"], correctAnswer: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–∞–≤" },
                { question: "–°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (–Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥) –¥–ª—è –ù–ö–û —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç:", options: ["–£–≤–µ–ª–∏—á–µ–Ω–∏—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏", "–û–±–º–µ–Ω—É –æ–ø—ã—Ç–æ–º –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —É—Å–∏–ª–∏–π", "–ò–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞", "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º—É —Å–ª–∏—è–Ω–∏—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π"], correctAnswer: "–û–±–º–µ–Ω—É –æ–ø—ã—Ç–æ–º –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —É—Å–∏–ª–∏–π" }
            ];
            
            function displayQuiz() { 
                if (!quizContainer) return; 
                let output = []; 
                quizQuestions.forEach((currentQuestion, questionNumber) => { 
                    let answers = []; 
                    currentQuestion.options.forEach(option => { 
                        answers.push( `<div class="form-check"><input class="form-check-input" type="radio" name="question${questionNumber}" id="q${questionNumber}option${option.replace(/\s+/g, '')}" value="${option}"><label class="form-check-label" for="q${questionNumber}option${option.replace(/\s+/g, '')}">${option}</label></div>` ); 
                    }); 
                    output.push( `<div class="quiz-question mb-4"><p class="fw-semibold">${questionNumber + 1}. ${currentQuestion.question}</p>${answers.join('')}</div>` );
                }); 
                quizContainer.innerHTML = output.join(''); 
                if(submitQuizBtn) submitQuizBtn.style.display = 'block';

                const quizQuestionElements = gsap.utils.toArray('.quiz-question');
                quizQuestionElements.forEach((q_el, index) => {
                    gsap.to(q_el, {
                        opacity: 1, x: 0, duration: 0.6, delay: index * 0.2, 
                        ease: "power2.out",
                        scrollTrigger: { 
                            trigger: quizContainer,
                            start: "top 80%", 
                            once: true 
                        }
                    });
                });
            }

            if (submitQuizBtn) { submitQuizBtn.addEventListener('click', showResults); }
            
            function showResults() { 
                let score = 0; 
                quizQuestions.forEach((currentQuestion, questionNumber) => { 
                    const selector = `input[name="question${questionNumber}"]:checked`; 
                    const userAnswer = (quizContainer.querySelector(selector) || {}).value; 
                    if (userAnswer === currentQuestion.correctAnswer) score++; 
                }); 
                const percentage = Math.round((score / quizQuestions.length) * 100); 
                if(quizScoreEl) quizScoreEl.textContent = `–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –∏–∑ ${quizQuestions.length} (${percentage}%)`; 
                
                gsap.set([quizResultTextDiv, quizResultChartContainer], {display: 'block'}); 
                gsap.fromTo([quizResultTextDiv, quizResultChartContainer], 
                    {opacity:0, y:20, scale:0.95}, 
                    {opacity:1, y:0, scale:1, duration:0.6, ease: 'back.out(1.4)', stagger:0.2} 
                ); 
                const ctx = document.getElementById('quizResultChart').getContext('2d'); 
                if (quizResultChartInstance) quizResultChartInstance.destroy(); 
                quizResultChartInstance = new Chart(ctx, { 
                    type: 'doughnut', 
                    data: { 
                        labels: ['–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã', '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã'], 
                        datasets: [{ 
                            label: '–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–≤–∏–∑–∞', data: [score, quizQuestions.length - score], 
                            backgroundColor: ['rgba(25, 135, 84, 0.8)', 'rgba(220, 53, 69, 0.8)'], 
                            borderColor: ['rgba(25, 135, 84, 1)','rgba(220, 53, 69, 1)'], 
                            borderWidth: 1, hoverOffset: 8 
                        }] 
                    }, 
                    options: { 
                         responsive: true, maintainAspectRatio: true, animation: { animateScale: true, animateRotate: true },
                         plugins: { legend: { position: 'top' }, tooltip: { callbacks: { label: function(context) { let label = context.label || ''; if (label) { label += ': '; } if (context.parsed !== null) { label += context.parsed; } return label; }}}} 
                    } 
                }); 
                if(submitQuizBtn) gsap.to(submitQuizBtn, {opacity:0, duration:0.3, onComplete: () => submitQuizBtn.style.display = 'none'}); 
            }
            if (quizContainer) displayQuiz();
        });
    </script>
</body>
</html>